(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{23:function(e,t,n){e.exports=n(35)},35:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(18),i=n.n(o),r=n(1),c=n(2),d=n(4),s=n(3),u=n(5),m=n(20),E=n(10),p=function(e){function t(){return Object(r.a)(this,t),Object(d.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"z"},l.a.createElement("div",null,l.a.createElement("h1",null,"ERROR 404"),l.a.createElement("h2",null,l.a.createElement("a",{href:"/_",className:"x"},"< Para continuar, clique\xe9 aqu\xed >"))))}}]),t}(l.a.Component),h=1,g=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(d.a)(this,Object(s.a)(t).call(this,e))).onHome=function(){window.location.href="/_"},n.zoomIn=function(){h+=.1,document.body.style.fontSize=h+"em"},n.zoomOut=function(){h-=.1,document.body.style.fontSize=h+"em"},n.showMenu=function(){n.setState({subMenuDisplayed:!n.state.subMenuDisplayed},(function(){n.state.subMenuDisplayed?document.getElementById("sm_").style.display="block":document.getElementById("sm_").style.display="none"}))},n.state={subMenuDisplayed:!1},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"t1"},l.a.createElement("h1",null,"\xa0",l.a.createElement("span",{className:"u",onClick:this.showMenu},"\u2261"),"\xa0\xa0",l.a.createElement("span",{onClick:this.onHome},"Geo/CityGarbage")," ",l.a.createElement("span",{className:"v"}," Collector v0.1.4"))),l.a.createElement("div",{className:"m",id:"sm_"},l.a.createElement("div",{className:"n",style:{padding:"6px 5%"}},l.a.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd"},l.a.createElement("path",{d:"M11 21h8.033v-2l1-1v4h-9.033v2l-10-3v-18l10-3v2h9.033v5l-1-1v-3h-8.033v18zm-1 1.656v-21.312l-8 2.4v16.512l8 2.4zm11.086-10.656l-3.293-3.293.707-.707 4.5 4.5-4.5 4.5-.707-.707 3.293-3.293h-9.053v-1h9.053z"})),"\xa0\xa0",l.a.createElement("a",{className:"p2",href:"/logout"},"Salir/Cerrar sesi\xf3n"))),l.a.createElement("header",{className:"t2"},l.a.createElement("hgroup",{style:{padding:"10px 10px"}},l.a.createElement("div",{style:{minWidth:"2%",float:"left"}},l.a.createElement("svg",{width:"48px",height:"48px",viewBox:"0 0 24 24"},l.a.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z",fill:"#fff"}),l.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),l.a.createElement("div",{style:{verticalAlign:"top",color:"#fff"}},l.a.createElement("span",{style:{fontSize:"150%",fontWeight:"bold"}},window.sessionStorage.getItem("label")),l.a.createElement("br",null),window.sessionStorage.getItem("labelClient")))))}}]),t}(l.a.Component),f="http://18.191.29.185:8088";function y(){return window.sessionStorage.getItem("x-access-token")&&window.sessionStorage.getItem("x-access-token-expiration")>Date.now()}var b=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(d.a)(this,Object(s.a)(t).call(this,e))).goRoute=function(e){var t=e.target.dataset.href;window.sessionStorage.setItem("ClientCode",parseInt(window.sessionStorage.getItem("idClient"))),window.location.href=t},n.state={userAuthenticated:!1},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){y()?(window.sessionStorage.setItem("ClientCode",0),window.sessionStorage.setItem("RouteCode",0),this.setState({userAuthenticated:!0})):window.location.href="/"}},{key:"render",value:function(){return this.state.userAuthenticated?l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement("br",null),l.a.createElement("main",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("ul",{style:{listStyleType:"none"}},1===parseInt(window.sessionStorage.getItem("role"))&&l.a.createElement("li",{className:"x",onClick:this.goRoute,"data-href":"/client"},"< M\xf3dulo de Clientes/Empresas >"),l.a.createElement("li",{className:"x",onClick:this.goRoute,"data-href":"/route"},"< M\xf3dulo de Rutas >"),l.a.createElement("li",{className:"x",onClick:this.goRoute,"data-href":"/personal"},"< M\xf3dulo de Personal >"),l.a.createElement("li",{className:"x",onClick:this.goRoute,"data-href":"/vehicle"},"< M\xf3dulo de Veh\xedculos >"),l.a.createElement("li",{className:"x",onClick:this.goRoute,"data-href":"/device"},"< M\xf3dulo de Dispositivos >")))):l.a.createElement("div",{className:"z"},l.a.createElement("h1",null,"Acceso denegado"))}}]),t}(l.a.Component);function v(e){return function(e){for(var t="0123456789abcdef",n="",a=0;a<4*e.length;a++)n+=t.charAt(e[a>>2]>>8*(3-a%4)+4&15)+t.charAt(e[a>>2]>>8*(3-a%4)&15);return n}(function(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n=Array(80),a=1732584193,l=-271733879,o=-1732584194,i=271733878,r=-1009589776,c=0;c<e.length;c+=16){for(var d=a,s=l,u=o,m=i,E=r,p=0;p<80;p++){n[p]=p<16?e[c+p]:T(n[p-3]^n[p-8]^n[p-14]^n[p-16],1);var h=w(w(T(a,5),I(p,l,o,i)),w(w(r,n[p]),C(p)));r=i,i=o,o=T(l,30),l=a,a=h}a=w(a,d),l=w(l,s),o=w(o,u),i=w(i,m),r=w(r,E)}return[a,l,o,i,r]}(function(e){for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}(e),8*e.length))}function I(e,t,n,a){return e<20?t&n|~t&a:e<40?t^n^a:e<60?t&n|t&a|n&a:t^n^a}function C(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function w(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function T(e,t){return e<<t|e>>>32-t}var S=n(19),O=n.n(S),k=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(d.a)(this,Object(s.a)(t).call(this,e))).sendCredentialsToLogin=function(e){e.preventDefault(),n.state.user.trim().length<6&&n.state.password.trim().length<8?(window.alert("Int\xe9ntelo de nuevo !,\r\ncon datos v\xe1lidos"),n.setState({user:"",password:""},(function(){document.getElementById("_a").focus()}))):n.setState({encryptedUser:v(n.state.user.trim()),encryptedPassword:v(n.state.password.trim())},(function(){var e;(e={usuario:n.state.encryptedUser,clave:n.state.encryptedPassword},new Promise((function(t,n){fetch(f+"/api/usuario/validar",{method:"POST",body:JSON.stringify(e),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){n(e)}))}))).then((function(e){if(e.error)window.alert("Las credenciales provistas para\r\n autenticarse NO SON V\xc1LIDAS !"),n.setState({user:"",password:""},(function(){document.getElementById("_a").focus()}));else if(console.log(e),"tokenSession"in e){window.sessionStorage.clear(),window.sessionStorage.setItem("x-access-token",e.tokenSession),window.sessionStorage.setItem("x-access-token-expiration",Date.now()+72e5);var t=O()(e.tokenSession);window.sessionStorage.setItem("idClient",t.idClient),window.sessionStorage.setItem("label",t.label),window.sessionStorage.setItem("role",t.role),window.sessionStorage.setItem("eSignSession",t.eSignSession),window.sessionStorage.setItem("labelClient",t.labelClient),window.sessionStorage.setItem("ClientCode",0),window.sessionStorage.setItem("RouteCode",0),window.sessionStorage.setItem("ScheduleCode",0),window.sessionStorage.setItem("TrajectoryCode",0),window.location.href="/_"}else window.alert("Problemas con el servidor,\r\nInt\xe9ntelo m\xe1s tarde !")}))}))},n.state={user:"",password:"",encryptedUser:"",encryptedPassword:""},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"z"},l.a.createElement("form",null,l.a.createElement("div",null,l.a.createElement("h1",{style:{textAlign:"right"}}," Geo/garbage ",l.a.createElement("span",{style:{color:"slategray",fontSize:"50%"}},"v0.1.4")),l.a.createElement("br",null),l.a.createElement("input",{type:"email",placeholder:"Username @",value:this.state.user,size:40,id:"_a",autoFocus:!0,required:!0,onChange:function(t){e.setState({user:t.target.value})}}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{type:"password",placeholder:"Password",value:this.state.password,size:40,onChange:function(t){e.setState({password:t.target.value})}}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{onClick:this.sendCredentialsToLogin},"Ingresar \u2192"))))}}]),t}(l.a.Component),_=function(e){function t(){return Object(r.a)(this,t),Object(d.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.sessionStorage.clear()}},{key:"render",value:function(){return l.a.createElement("div",{className:"z"},l.a.createElement("div",null,l.a.createElement("h1",null,"Confirmada su salida"),l.a.createElement("h2",null,l.a.createElement("a",{href:"/_",className:"x"},"< Para continuar, clique\xe9 aqu\xed >"))))}}]),t}(l.a.Component),N=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(d.a)(this,Object(s.a)(t).call(this,e))).state={userAuthenticated:!1},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){y()?this.setState({userAuthenticated:!0}):window.location.href="/"}},{key:"render",value:function(){return this.state.userAuthenticated?l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{style:{paddingLeft:"10px"}},l.a.createElement("fieldset",{style:{width:"30%"}},l.a.createElement("legend",null,"Actual\xa0\xa0contrase\xf1a"),l.a.createElement("input",{type:"password",placeholder:"Actual contrase\xf1a",autofocus:!0,required:!0,size:"30"})),l.a.createElement("br",null),l.a.createElement("fieldset",{style:{width:"30%"}},l.a.createElement("legend",null,"Nueva\xa0\xa0contrase\xf1a"),l.a.createElement("input",{type:"password",placeholder:"Nueva contrase\xf1a",size:"30"})),l.a.createElement("br",null),l.a.createElement("fieldset",{style:{width:"30%"}},l.a.createElement("legend",null,"Reingrese la nueva contrase\xf1a"),l.a.createElement("input",{type:"password",placeholder:"Reingrese la nueva contrase\xf1a",size:"30"})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{onClick:this.updatePassword},"Actualizar mi contrase\xf1a \u2192"))):l.a.createElement("div",{className:"z"},l.a.createElement("h1",null,"Acceso denegado"))}}]),t}(l.a.Component);function P(){return new Promise((function(e,t){fetch(f+"/api/entidad/").then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){t(e)}))}))}var B=function(e){function t(e,n){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(s.a)(t).call(this,e))).previousPage=function(){window.history.back()},a.state={msg:n},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("div",{className:"t3"},l.a.createElement("span",{onClick:this.previousPage},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0, 0, 20, 20"},l.a.createElement("path",{d:"M14.333 0l-10 10 10 10 1.334-1.333L7 10l8.667-8.667L14.333 0z"}))),"\xa0",l.a.createElement("span",null,this.props.text)))}}]),t}(l.a.Component),x=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(d.a)(this,Object(s.a)(t).call(this,e))).getTotalItems=function(){new Promise((function(e,t){fetch(f+"/api/entidad/total").then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){t(e)}))})).then((function(e){if("total"in e){var t=parseInt(e.total);n.setState({totalItems:t,totalPages:parseInt(t/10)+(0!==parseInt(t%10)?1:0)})}}))},n.decreaseNumberOfPage=function(){n.setState({numberOfPage:parseInt(n.state.numberOfPage)>1?parseInt(n.state.numberOfPage)-1:1},(function(){n.populateListOfClients()}))},n.increaseNumberOfPage=function(){n.setState({numberOfPage:parseInt(n.state.numberOfPage)<n.state.totalPages?parseInt(n.state.numberOfPage)+1:n.state.totalPages},(function(){n.populateListOfClients()}))},n.changeNumberOfPage=function(e){var t=e.target.value;n.setState({numberOfPage:parseInt(t)>0&&parseInt(t)<=n.state.totalPages?t:1},(function(){n.populateListOfClients()}))},n.setEnabledStatus=function(e){var t,a={cliente:parseInt(window.sessionStorage.getItem("idClient")),codigo:parseInt(e.target.dataset.id),estado:1===parseInt(e.target.value)?0:1,firma:window.sessionStorage.getItem("eSignSession")};(t=a,new Promise((function(e,n){fetch(f+"/api/entidad/disponibilidad/",{method:"PATCH",body:JSON.stringify(t),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){n(e)}))}))).then((function(e){n.populateListOfClients()}))},n.showModalToAddClient=function(){document.getElementById("wnd2Add").style.display="block",document.getElementById("darkBackground").style.display="block",document.getElementById("n_").value="",document.getElementById("m_").value="",document.getElementById("n_").focus()},n.hideModalToAddClient=function(){document.getElementById("wnd2Add").style.display="none",document.getElementById("darkBackground").style.display="none"},n.showModalToEditClient=function(e){var t=e.target.dataset.id,n=e.target.dataset.n2,a=e.target.innerText;document.getElementById("o2_").value=t,1===parseInt(e.target.dataset.n1)?(document.getElementById("n2_").value=a,document.getElementById("m2_").value=n):(document.getElementById("n2_").value=n,document.getElementById("m2_").value=a),document.getElementById("wnd2Edit").style.display="block",document.getElementById("darkBackground").style.display="block",document.getElementById("n2_").focus()},n.hideModalToEditClient=function(){document.getElementById("wnd2Edit").style.display="none",document.getElementById("darkBackground").style.display="none"},n.addClient=function(){n.hideModalToAddClient();var e,t=document.getElementById("n_").value,a=document.getElementById("m_").value;if(t.trim().length>3){var l={cliente:parseInt(window.sessionStorage.getItem("idClient")),nombre1:t.trim(),nombre2:a.trim(),firma:window.sessionStorage.getItem("eSignSession")};(e=l,new Promise((function(t,n){fetch(f+"/api/entidad/",{method:"POST",body:JSON.stringify(e),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e})).then((function(e){t(e)})).catch((function(e){n(e)}))}))).then((function(e){})),n.setState({numberOfPage:1},(function(){n.populateListOfClients()}))}else window.alert("El nombre del Cliente\r\nDebe ser m\xe1s descriptivo\r\nInt\xe9ntelo de nuevo!")},n.updateClientData=function(){n.hideModalToEditClient();var e,t={cliente:parseInt(window.sessionStorage.getItem("idClient")),codigo:document.getElementById("o2_").value,nombre1:document.getElementById("n2_").value,nombre2:document.getElementById("m2_").value,firma:window.sessionStorage.getItem("eSignSession")};(e=t,new Promise((function(t,n){fetch(f+"/api/entidad/",{method:"PATCH",body:JSON.stringify(e),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){n(e)}))}))).then((function(e){n.populateListOfClients()}))},n.goCheckRoute=function(e){var t=e.target.dataset.id;window.sessionStorage.setItem("ClientCode",t),window.location.href="/route"},n.populateListOfClients=function(){var e,t,a=10*(parseInt(n.state.numberOfPage)-1);(e=a,t=10,new Promise((function(n,a){fetch(f+"/api/entidad/paginado/"+e+"/"+t).then((function(e){return e.json()})).then((function(e){n(e)})).catch((function(e){a(e)}))}))).then((function(e){n.setState({ClientsByPage:e})}))},n.state={ClientsByPage:[],totalItems:1,numberOfPage:1,totalPages:0,userAuthenticated:!1},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;y()?this.setState({userAuthenticated:!0},(function(){e.getTotalItems(),e.populateListOfClients()})):window.location.href="/"}},{key:"render",value:function(){var e=this;return this.state.userAuthenticated?this.state.ClientsByPage.length>0?l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(B,{text:"Clientes/Entidades"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("nav",null,l.a.createElement("input",{type:"button",name:"prv_",value:"\u2190",onClick:this.decreaseNumberOfPage,title:"P\xe1gina anterior"}),l.a.createElement("input",{type:"number",name:"pagina_",id:"pagina_",min:"1",pattern:"[0-9]*",title:"N\xfamero de P\xe1gina",onChange:this.changeNumberOfPage,style:{textAlign:"center",border:"none",width:"4em"},value:this.state.numberOfPage}),"\xa0\xa0de\xa0\xa0",l.a.createElement("input",{type:"text",name:"totalEntidad_",id:"totalEntidad_",size:"2",style:{border:"none"},title:"Total de p\xe1ginas a mostrar",value:this.state.totalPages,readOnly:!0}),l.a.createElement("input",{type:"button",name:"nxt_",value:"\u2192",onClick:this.increaseNumberOfPage,title:"P\xe1gina siguiente"}),"\xa0\xa0\xa0",l.a.createElement("button",{onClick:this.showModalToAddClient,title:"Registra un NUEVO CLIENTE / Empresa / Entidad"},"Entidad +")),l.a.createElement("br",null),l.a.createElement("main",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"40%"}},"\xa0Nombre de Entidad\xa0"),l.a.createElement("th",{style:{width:"40%"}},"Oficina/Sub-sede/Gerencia"),l.a.createElement("th",{style:{width:"10%"}},"\xa0"),l.a.createElement("th",{title:"\xbfest\xe1 el operador habilitado?"},"\xa0"))),l.a.createElement("tbody",null,this.state.ClientsByPage.map((function(t){return l.a.createElement("tr",{key:"clt_"+t.codigoEntidad},l.a.createElement("td",null,l.a.createElement("span",{onClick:e.showModalToEditClient,"data-id":t.codigoEntidad,"data-n1":1,"data-n2":t.denominacionSubEntidad},t.denominacionEntidad.toUpperCase())),l.a.createElement("td",null,l.a.createElement("span",{onClick:e.showModalToEditClient,"data-id":t.codigoEntidad,"data-n1":2,"data-n2":t.denominacionEntidad},t.denominacionSubEntidad.toUpperCase())),l.a.createElement("td",null,"\xa0",l.a.createElement("span",{onClick:e.goCheckRoute,"data-id":t.codigoEntidad,title:"Ver listado de Rutas de Recolecci\xf3n del Cliente",style:{backgroundColor:"transparent",textDecoration:"none",border:"none",cursor:"pointer"}},"\u25b7")),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox","data-id":t.codigoEntidad,name:"chk_"+t.codigoEntidad,id:"chk_"+t.codigoEntidad,value:1===parseInt(t.habilitado)?1:0,checked:1===parseInt(t.habilitado),onChange:e.setEnabledStatus,title:"Habilitar/Deshabilitar al Cliente"})))}))))),l.a.createElement("div",{id:"wnd2Add",className:"overbox"},l.a.createElement("div",{className:"content"},l.a.createElement("button",{onClick:this.hideModalToAddClient},"Cerrar \xd7"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("form",{name:"appendForm"},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Nombre del Cliente"),l.a.createElement("input",{type:"text",name:"n_",id:"n_",placeholder:"Nombre del Cliente/Empresa",title:"Ingrese Nombre del Cliente/Empresa",required:!0,size:"45"})),l.a.createElement("br",null),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Nombre de la Oficina de contacto"),l.a.createElement("input",{type:"text",name:"m_",id:"m_",placeholder:"Nombre de Oficina/Gerencia ",size:"45"}),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement("input",{type:"button",value:"Agregar/Registrar +",onClick:this.addClient}))))),l.a.createElement("div",{id:"wnd2Edit",className:"overbox"},l.a.createElement("div",{className:"content"},l.a.createElement("button",{onClick:this.hideModalToEditClient},"Cerrar \xd7"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("form",null,l.a.createElement("input",{type:"hidden",name:"o2_",id:"o2_"}),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Nombre del Cliente"),l.a.createElement("input",{type:"text",name:"n2_",id:"n2_",placeholder:"Nombre del Cliente/Empresa",title:"Ingrese Nombre del Cliente/Empresa",required:!0,size:"45"}),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Nombre de Oficina/Gerencia"),l.a.createElement("input",{type:"text",name:"m2_",id:"m2_",placeholder:"Nombre de Oficina/Gerencia",required:!0,size:"45"}),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement("input",{type:"button",value:"Actualizar \u2192",onClick:this.updateClientData}))))),l.a.createElement("div",{id:"darkBackground",className:"fadebox"},"\xa0")):l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("main",null,"NO existen datos \xa0 ",l.a.createElement("button",{onClick:this.showModalToAddRoute},"Ruta +")),l.a.createElement("div",{id:"darkBackground",className:"fadebox"},"\xa0")):l.a.createElement("div",{className:"z"},l.a.createElement("h1",null,"Acceso denegado"))}}]),t}(l.a.Component);var A=[],R=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(d.a)(this,Object(s.a)(t).call(this,e))).checkIdClient=function(){0!==parseInt(window.sessionStorage.getItem("ClientCode"))?n.setState({CLIENT_ENTITY:parseInt(window.sessionStorage.getItem("ClientCode"))},(function(){n.populateListOfGarbageRoutes()})):window.history.replaceState({},null,"/")},n.goCheckSchedule=function(e){var t=e.target.dataset.id;window.sessionStorage.setItem("ClientCode",n.state.CLIENT_ENTITY),window.sessionStorage.setItem("RouteCode",t),window.location.href="/schedule/"},n.getClientsList=function(){P().then((function(e){n.setState({ClientsList:e})}))},n.getTotalItems=function(){new Promise((function(e,t){fetch(f+"/api/ruteo/total").then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){t(e)}))})).then((function(e){if("total"in e){var t=parseInt(e.total);n.setState({totalItems:t,totalPages:parseInt(t/10)+(0!==parseInt(t%10)?1:0)})}}))},n.decreaseNumberOfPage=function(){n.setState({numberOfPage:parseInt(n.state.numberOfPage)>1?parseInt(n.state.numberOfPage)-1:1},(function(){n.populateListOfGarbageRoutes()}))},n.increaseNumberOfPage=function(){n.setState({numberOfPage:parseInt(n.state.numberOfPage)<n.state.totalPages?parseInt(n.state.numberOfPage)+1:n.state.totalPages},(function(){n.populateListOfGarbageRoutes()}))},n.changeNumberOfPage=function(e){var t=e.target.value;n.setState({numberOfPage:parseInt(t)>0&&parseInt(t)<=n.state.totalPages?t:1},(function(){n.populateListOfGarbageRoutes()}))},n.showModalToAddRoute=function(){document.getElementById("modalToAppendRoute").style.display="block",document.getElementById("darkBackground").style.display="block",document.getElementById("codigoRuta_").value="",document.getElementById("nombreRuta_").value="",document.getElementById("fechaRuta_").value="",document.getElementById("codigoRuta_").focus()},n.hideModalToAddRoute=function(){document.getElementById("modalToAppendRoute").style.display="none",document.getElementById("darkBackground").style.display="none"},n.showModalToEditRoute=function(e){var t=parseInt(e.target.dataset.idx);document.getElementById("idRutaEdt_").value=parseInt(e.target.dataset.id),document.getElementById("codigoRutaEdt_").value=document.getElementById("c_["+t+"]["+e.target.dataset.id+"]").innerText,document.getElementById("nombreRutaEdt_").value=document.getElementById("n_["+t+"]["+e.target.dataset.id+"]").innerText,document.getElementById("fechaRutaEdt_").value=document.getElementById("f1_["+t+"]["+e.target.dataset.id+"]").value,document.getElementById("modalToEditRoute").style.display="block",document.getElementById("darkBackground").style.display="block",document.getElementById("nombreRutaEdt_").focus()},n.hideModalToEditRoute=function(){document.getElementById("modalToEditRoute").style.display="none",document.getElementById("darkBackground").style.display="none"},n.populateListOfGarbageRoutes=function(){var e,t,a,l=10*(parseInt(n.state.numberOfPage)-1);(e=l,t=10,a=n.state.CLIENT_ENTITY,new Promise((function(n,l){fetch(f+"/api/ruteo/paginado/"+e+"/"+t+"/"+a).then((function(e){return e.json()})).then((function(e){n(e)})).catch((function(e){l(e)}))}))).then((function(e){n.setState({GarbageRoutesByPage:e})}))},n.setRoutesByClient=function(e){n.setState({CLIENT_ENTITY:e.target.value},(function(){n.populateListOfGarbageRoutes()}))},n.appendRoute=function(){n.hideModalToAddRoute();var e,t={cliente:parseInt(n.state.CLIENT_ENTITY),codificacion:document.getElementById("codigoRuta_").value,denominacion:document.getElementById("nombreRuta_").value,fechaInicio:document.getElementById("fechaRuta_").value,firma:window.sessionStorage.getItem("eSignSession")};console.log(t),(e=t,new Promise((function(t,n){fetch(f+"/api/ruteo/",{method:"POST",body:JSON.stringify(e),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e})).then((function(e){t(e)})).catch((function(e){n(e)}))}))).then((function(e){n.populateListOfGarbageRoutes()}))},n.updateRoutePartialData=function(){n.hideModalToEditRoute();var e,t={cliente:parseInt(n.state.CLIENT_ENTITY),firma:window.sessionStorage.getItem("eSignSession"),codigo:document.getElementById("idRutaEdt_").value,codificacion:document.getElementById("codigoRutaEdt_").value,nombre:document.getElementById("nombreRutaEdt_").value,fecha:document.getElementById("fechaRutaEdt_").value};(e=t,new Promise((function(t,n){fetch(f+"/api/ruteo/",{method:"PATCH",body:JSON.stringify(e),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e})).then((function(e){t(e)})).catch((function(e){n(e)}))}))).then((function(e){n.populateListOfGarbageRoutes()}))},n.setEnabledStatus=function(e){var t,a={cliente:parseInt(n.state.CLIENT_ENTITY),firma:window.sessionStorage.getItem("eSignSession"),codigo:parseInt(e.target.dataset.id),estado:1===parseInt(e.target.value)?0:1};(t=a,new Promise((function(e,n){fetch(f+"/api/ruteo/disponibilidad/",{method:"PATCH",body:JSON.stringify(t),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e})).then((function(t){e(t)})).catch((function(e){n(e)}))}))).then((function(e){n.populateListOfGarbageRoutes()}))},n.state={GarbageRoutesByPage:[],ClientsList:[],totalItems:1,numberOfPage:1,totalPages:0,CLIENT_ENTITY:0,userAuthenticated:!1},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;y()?this.setState({userAuthenticated:!0},(function(){e.checkIdClient(),e.getClientsList(),e.getTotalItems()})):window.location.href="/"}},{key:"render",value:function(){var e=this;return this.state.userAuthenticated?this.state.GarbageRoutesByPage.length>0?(A=this.state.ClientsList.map((function(e){return l.a.createElement("option",{value:e.codigoEntidad,key:e.codigoEntidad},e.denominacionEntidad)})),l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(B,{text:"Rutas",title:"Rutas de Recojo de Desechos s\xf3lidos"}),l.a.createElement("div",{className:"z1",style:{padding:"2% 4%",width:"90%"}},1===parseInt(window.sessionStorage.getItem("role"))&&l.a.createElement("div",null,l.a.createElement("select",{onChange:this.setRoutesByClient,value:this.state.CLIENT_ENTITY,style:{width:"100%",boxSizing:"border-box"}},A))),l.a.createElement("nav",null,l.a.createElement("input",{type:"button",name:"prv_",value:"\u2190",onClick:this.decreaseNumberOfPage,title:"P\xe1gina anterior"}),l.a.createElement("input",{type:"number",name:"pagina_",id:"pagina_",min:"1",pattern:"[0-9]*",title:"N\xfamero de P\xe1gina",onChange:this.changeNumberOfPage,style:{textAlign:"center",border:"none",width:"4em"},value:this.state.numberOfPage}),"\xa0\xa0de\xa0\xa0",l.a.createElement("input",{type:"text",name:"totalEntidad_",id:"totalEntidad_",size:"2",style:{border:"none"},title:"Total de p\xe1ginas a mostrar",value:this.state.totalPages,readOnly:!0}),l.a.createElement("input",{type:"button",name:"nxt_",value:"\u2192",onClick:this.increaseNumberOfPage,title:"P\xe1gina siguiente"}),"\xa0\xa0\xa0",l.a.createElement("button",{onClick:this.showModalToAddRoute},"Ruta +")),l.a.createElement("br",null),l.a.createElement("main",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"20%"},title:"Codificaci\xf3n de Rutas"},"\xa0"),l.a.createElement("th",null,"Rutas"),l.a.createElement("th",null,"\xa0"),l.a.createElement("th",{style:{width:"4%"}},"\xa0"),l.a.createElement("th",{style:{width:"4%"}},"\xa0"),l.a.createElement("th",{style:{width:"4%"}},"\xa0"))),l.a.createElement("tbody",null,this.state.GarbageRoutesByPage.map((function(t,n){return l.a.createElement("tr",{key:"$route_"+n},l.a.createElement("td",null,l.a.createElement("span",{onClick:e.showModalToEditRoute,"data-id":t.codigoRuteo,"data-idx":n,id:"c_["+n+"]["+t.codigoRuteo+"]"},t.codigo)),l.a.createElement("td",null,l.a.createElement("span",{onClick:e.showModalToEditRoute,"data-id":t.codigoRuteo,"data-idx":n,id:"n_["+n+"]["+t.codigoRuteo+"]"},t.denominacionRuteo)),l.a.createElement("td",null,l.a.createElement("input",{"data-idx":n,type:"hidden",id:"f1_["+n+"]["+t.codigoRuteo+"]",value:t.fechaEdicion}),l.a.createElement("span",{onClick:e.showModalToEditRoute,"data-id":t.codigoRuteo,"data-idx":n,id:"f_["+n+"]["+t.codigoRuteo+"]"},t.fechaDespliegue)),l.a.createElement("td",null,"\xa0",l.a.createElement("a",{href:"http://18.191.29.185:3000/mapa/1",target:"BLANK_",title:"Ver Mapa",style:{textDecoration:"none",cursor:"pointer"}},l.a.createElement("small",null," \u25cb"))),l.a.createElement("td",null,"\xa0",l.a.createElement("span",{onClick:e.goCheckSchedule,"data-id":t.codigoRuteo,title:"Ver Zonas/Horario de la Ruta",style:{textDecoration:"none",cursor:"pointer"}},"\u25b7")," "),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox","data-id":t.codigoRuteo,name:"chk_"+t.codigoRuteo,id:"chk_"+t.codigoRuteo,value:1===parseInt(t.habilitado)?1:0,checked:1===parseInt(t.habilitado),onChange:e.setEnabledStatus,title:"Habilitar/Deshabilitar al Cliente"})))}))))),l.a.createElement("div",{id:"modalToAppendRoute",className:"overbox"},l.a.createElement("div",{className:"content"},l.a.createElement("button",{onClick:this.hideModalToAddRoute},"Cerrar \xd7"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",null)," ",l.a.createElement("br",null),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"C\xf3digo/codificaci\xf3n de Ruta"),l.a.createElement("input",{type:"text",name:"codigoRuta_",id:"codigoRuta_"}),l.a.createElement("br",null)),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Denominaci\xf3n de una ruta"),l.a.createElement("textarea",{id:"nombreRuta_",cols:"60",rows:"3",style:{outline:"none",resize:"none",padding:"4px"},required:!0}),l.a.createElement("br",null)),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Fecha de inicio (vigencia) de una ruta"),l.a.createElement("input",{type:"date",name:"fechaRuta_",id:"fechaRuta_"}),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement("input",{type:"button",value:"Agregar/Registrar +",onClick:this.appendRoute})))),l.a.createElement("div",{id:"modalToEditRoute",className:"overbox"},l.a.createElement("div",{className:"content"},l.a.createElement("button",{onClick:this.hideModalToEditRoute},"Cerrar \xd7")," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"C\xf3digo/codificaci\xf3n de Ruta"),l.a.createElement("input",{type:"text",name:"codigoRutaEdt_",id:"codigoRutaEdt_"}),l.a.createElement("br",null)),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Denominaci\xf3n de una ruta"),l.a.createElement("textarea",{id:"nombreRutaEdt_",cols:"60",rows:"3",style:{outline:"none",resize:"none",padding:"4px"}}),l.a.createElement("br",null)),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Fecha de inicio (vigencia) de una ruta"),l.a.createElement("input",{type:"date",name:"fechaRutaEdt_",id:"fechaRutaEdt_"}),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("input",{type:"hidden",id:"idRutaEdt_",name:"idRutaEdt_"}),l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement("input",{type:"button",value:"Editar/Actualizar \u2192",onClick:this.updateRoutePartialData})))),l.a.createElement("div",{id:"darkBackground",className:"fadebox"},"\xa0"))):(A=this.state.ClientsList.map((function(e){return l.a.createElement("option",{value:e.codigoEntidad,key:e.codigoEntidad},e.denominacionEntidad)})),l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(B,{text:"Rutas",title:"Rutas de Recojo de Desechos s\xf3lidos"}),l.a.createElement("div",{className:"z1",style:{padding:"2% 5%",width:"90%"}},1===parseInt(window.sessionStorage.getItem("role"))&&l.a.createElement("div",null,l.a.createElement("select",{onChange:this.setRoutesByClient,value:this.state.CLIENT_ENTITY,style:{width:"100%",boxSizing:"border-box"}},A))),l.a.createElement("main",null,l.a.createElement("div",{className:"z1"},l.a.createElement("h1",null,"No existen datos registrados"))),l.a.createElement("div",{id:"darkBackground",className:"fadebox"},"\xa0"))):l.a.createElement("div",{className:"z"},l.a.createElement("h1",null,"Acceso denegado"))}}]),t}(l.a.Component),D=function(){return l.a.createElement("div",{id:"darkBackground",className:"fadebox"},"\xa0")};var L=[],j=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(d.a)(this,Object(s.a)(t).call(this,e))).checkIdRoute=function(){n.setState({CLIENT_ENTITY:parseInt(window.sessionStorage.getItem("ClientCode")),ROUTE_ENTITY:parseInt(window.sessionStorage.getItem("RouteCode"))},(function(){n.populateClientsList(),n.populateRoutesByClient(),n.populateSchedulePerRoute()}))},n.populateClientsList=function(){P().then((function(e){n.setState({ClientsList:e})}))},n.populateRoutesByClient=function(){var e;n.state.CLIENT_ENTITY>0&&(e=n.state.CLIENT_ENTITY,new Promise((function(t,n){fetch(f+"/api/ruteo/componente/"+e).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){n(e)}))}))).then((function(e){n.setState({RoutesByClient:e},(function(){}))}))},n.populateSchedulePerRoute=function(){var e;n.state.ROUTE_ENTITY>0&&(e=n.state.ROUTE_ENTITY,new Promise((function(t,n){fetch(f+"/api/horario/"+e).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){n(e)}))}))).then((function(e){n.setState({SchedulesByRoute:e})}))},n.changeRoute=function(e){window.alert("Funci\xf3n Deshabilitada")},n.changeClientId=function(e){window.alert("Funci\xf3n Deshabilitada")},n.updateNameRoute=function(){if(n.state.RoutesByClient.lengh>0){var e=n.state.RoutesByClient.filter((function(e){return e.codigoRuteo===n.state.ROUTE_ENTITY}));n.setState({TITLE_ROUTE:e[0].denominacionRuteo})}},n.setEnabledStatus=function(e){var t,a={cliente:parseInt(n.state.CLIENT_ENTITY),firma:window.sessionStorage.getItem("eSignSession"),codigo:parseInt(e.target.dataset.id),estado:1===parseInt(e.target.value)?0:1};(t=a,new Promise((function(e,n){fetch(f+"/api/horario/disponibilidad/",{method:"PATCH",body:JSON.stringify(t),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e})).then((function(t){e(t)})).catch((function(e){n(e)}))}))).then((function(e){n.populateSchedulePerRoute()}))},n.showModalAddSchedule=function(){document.getElementById("mdlAddSchedule").style.display="block",document.getElementById("darkBackground").style.display="block"},n.hideModalAddSchedule=function(){document.getElementById("mdlAddSchedule").style.display="none",document.getElementById("darkBackground").style.display="none"},n.addScheduleItem=function(){n.hideModalAddSchedule();var e,t={cliente:parseInt(n.state.CLIENT_ENTITY),firma:window.sessionStorage.getItem("eSignSession"),ruta:parseInt(n.state.ROUTE_ENTITY),zona:document.getElementById("zona_").value,hora:document.getElementById("hIn_").value,intervalo:document.getElementById("hOut_").value};console.warn(t),(e=t,new Promise((function(t,n){fetch(f+"/api/horario/",{method:"POST",body:JSON.stringify(e),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e})).then((function(e){t(e)})).catch((function(e){n(e)}))}))).then((function(e){n.populateSchedulePerRoute()}))},n.showModalEditTimeSchedule=function(e){var t=e.target.dataset.id,n=e.target.dataset.timestart,a=e.target.dataset.timefinish;document.getElementById("codigoHorario_").value=t,document.getElementById("hInEdt_").value=n,document.getElementById("hOutEdt_").value=a,document.getElementById("mdlEditTimeSchedule").style.display="block",document.getElementById("darkBackground").style.display="block",document.getElementById("hInEdt_").focus()},n.hideModalEditTimeSchedule=function(){document.getElementById("mdlEditTimeSchedule").style.display="none",document.getElementById("darkBackground").style.display="none"},n.updateTimeSchedule=function(){n.hideModalEditTimeSchedule();var e,t={cliente:parseInt(n.state.CLIENT_ENTITY),firma:window.sessionStorage.getItem("eSignSession"),codigo:document.getElementById("codigoHorario_").value,hora:document.getElementById("hInEdt_").value,intervalo:document.getElementById("hOutEdt_").value};(e=t,new Promise((function(t,n){fetch(f+"/api/horario/denominacion/rangoTemporal/",{method:"PATCH",body:JSON.stringify(e),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e})).then((function(e){t(e)})).catch((function(e){n(e)}))}))).then((function(e){n.populateSchedulePerRoute()}))},n.showModalEditZoneSchedule=function(e){var t=e.target.dataset.id,n=e.target.dataset.zone;document.getElementById("codigoHorarioEdt2_").value=t,document.getElementById("nameZone_").value=n,document.getElementById("mdlEditZoneSchedule").style.display="block",document.getElementById("darkBackground").style.display="block",document.getElementById("nameZone_").focus()},n.hideModalEditZoneSchedule=function(){document.getElementById("mdlEditZoneSchedule").style.display="none",document.getElementById("darkBackground").style.display="none"},n.updateNameZoneSchedule=function(){n.hideModalEditZoneSchedule();var e,t={cliente:parseInt(n.state.CLIENT_ENTITY),firma:window.sessionStorage.getItem("eSignSession"),codigo:document.getElementById("codigoHorarioEdt2_").value,zona:document.getElementById("nameZone_").value};(e=t,new Promise((function(t,n){fetch(f+"/api/horario/denominacion/bloqueUrbano/",{method:"PATCH",body:JSON.stringify(e),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e})).then((function(e){t(e)})).catch((function(e){n(e)}))}))).then((function(e){n.populateSchedulePerRoute()}))},n.updateDaysOnSchedule=function(e){for(var t=[],a=e.target.dataset.id,l=e.target.dataset.index,o=0;o<=6;o++)t.push(Number(document.getElementById("chk["+l+"]["+o+"]").checked));console.log("New value :"+parseInt(t.join(""),2));var i,r={cliente:parseInt(n.state.CLIENT_ENTITY),firma:window.sessionStorage.getItem("eSignSession"),codigo:a,dias:parseInt(t.join(""),2)};(i=r,new Promise((function(e,t){fetch(f+"/api/horario/denominacion/atencionDiaria/",{method:"PATCH",body:JSON.stringify(i),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e})).then((function(t){e(t)})).catch((function(e){t(e)}))}))).then((function(e){n.populateSchedulePerRoute()}))},n.state={SchedulesByRoute:[],RoutesByClient:[],ClientsList:[],CLIENT_ENTITY:0,ROUTE_ENTITY:0,TITLE_ROUTE:"",userAuthenticated:!1},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;y()?this.setState({userAuthenticated:!0},(function(){e.checkIdRoute()})):window.location.href="/"}},{key:"render",value:function(){var e=this;return this.state.userAuthenticated?this.state.RoutesByClient.length>0?this.state.SchedulesByRoute.length>0?(L=this.state.ClientsList.map((function(e){return l.a.createElement("option",{value:e.codigoEntidad,key:e.codigoEntidad},e.denominacionEntidad)})),l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(B,{text:"Horarios"}),l.a.createElement("div",{style:{width:"40%",margin:"0px auto"}},l.a.createElement("section",{style:{display:"block"}},1===parseInt(window.sessionStorage.getItem("role"))&&l.a.createElement("div",null,l.a.createElement("select",{style:{width:"auto"},onChange:this.changeClientId,value:this.state.CLIENT_ENTITY},l.a.createElement("option",{value:"0"},"Seleccione un Cliente"),L))),l.a.createElement("br",null),l.a.createElement("section",{style:{display:"block"}},l.a.createElement("select",{onChange:this.changeRoute,value:this.state.ROUTE_ENTITY},l.a.createElement("option",{value:"0"},"Seleccione una ruta"),this.state.RoutesByClient.map((function(e){return l.a.createElement("option",{key:e.codigoRuteo,value:e.codigoRuteo,"data-addr":e.denominacionRuteo},e.codigo)})))),l.a.createElement("br",null),l.a.createElement("section",{style:{display:"block",fontSize:"120%",fontWeight:"bold"}},"\xa0",this.state.TITLE_ROUTE)),l.a.createElement("main",null,l.a.createElement("table",null,l.a.createElement("colgroup",null,l.a.createElement("col",{style:{width:"20%"}}),l.a.createElement("col",{style:{width:"1.2%"}}),l.a.createElement("col",{style:{width:"1.2%"}}),l.a.createElement("col",{style:{width:"1.2%"}}),l.a.createElement("col",{style:{width:"1.2%"}}),l.a.createElement("col",{style:{width:"1.2%"}}),l.a.createElement("col",{style:{width:"1.2%"}}),l.a.createElement("col",{style:{width:"1.2%"}})),l.a.createElement("thead",null,l.a.createElement("tr",{style:{padding:"10px 3px"}},l.a.createElement("th",{title:"Zona/Bloque Urbano / Hora/Horario"},"Zona/Hora \xa0\xa0\xa0 ",l.a.createElement("button",{onClick:this.showModalAddSchedule},"Zona +")),l.a.createElement("th",{title:"Lunes"},"Lu"),l.a.createElement("th",{title:"Martes"},"Ma"),l.a.createElement("th",{title:"Mi\xe9rcoles"},"Mi"),l.a.createElement("th",{title:"Jueves"},"Jv"),l.a.createElement("th",{title:"Viernes"},"Vi"),l.a.createElement("th",{title:"S\xe1bado"},"Sa"),l.a.createElement("th",{title:"Domingo"},"Do"))),l.a.createElement("tbody",null,this.state.SchedulesByRoute.map((function(t,n){var a=Number(t.atencionPorDias).toString(2).padStart(7,0);return l.a.createElement("tr",{key:"$route_"+n},l.a.createElement("td",{style:{padding:"4px 3px"}},l.a.createElement("div",{style:{display:"table"}},l.a.createElement("span",{style:{display:"table-cell",width:"2%"}},l.a.createElement("input",{type:"checkbox","data-id":t.codigoHorario,name:"chk_"+t.codigoHorario,id:"chk_"+t.codigoHorario,value:1===parseInt(t.habilitado)?1:0,checked:1===parseInt(t.habilitado),onChange:e.setEnabledStatus,title:"Eliminar? la Zona de Atenci\xf3n"})),"\xa0",l.a.createElement("span",{style:{display:"table-cell",minWidth:"30%",textAlign:"left"},"data-id":t.codigoHorario,onClick:e.showModalEditZoneSchedule,"data-zone":t.zonaAfectada},l.a.createElement("a",{style:{textDecoration:"none"},href:"../trajectory/",target:"blank_"},"\u25a1")," \xa0 ",t.zonaAfectada.toUpperCase()),"\xa0",l.a.createElement("span",{style:{display:"table-cell",minWidth:"18%",textAlign:"left"},"data-id":t.codigoHorario,"data-timestart":t.horaInicio,"data-timefinish":t.horaFin,onClick:e.showModalEditTimeSchedule},t.horaInicio+" \u2014 "+t.horaFin),l.a.createElement("span",{style:{display:"table-cell",minWidth:"2%",textAlign:"left"}}))),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",name:"chk["+n+"][0]",id:"chk["+n+"][0]",value:1===parseInt(a[0])?1:0,checked:1===parseInt(a[0]),onChange:e.updateDaysOnSchedule,"data-id":t.codigoHorario,"data-index":n})),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",name:"chk["+n+"][1]",id:"chk["+n+"][1]",value:1===parseInt(a[1])?1:0,checked:1===parseInt(a[1]),onChange:e.updateDaysOnSchedule,"data-id":t.codigoHorario,"data-index":n})),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",name:"chk["+n+"][2]",id:"chk["+n+"][2]",value:1===parseInt(a[2])?1:0,checked:1===parseInt(a[2]),onChange:e.updateDaysOnSchedule,"data-id":t.codigoHorario,"data-index":n})),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",name:"chk["+n+"][3]",id:"chk["+n+"][3]",value:1===parseInt(a[3])?1:0,checked:1===parseInt(a[3]),onChange:e.updateDaysOnSchedule,"data-id":t.codigoHorario,"data-index":n})),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",name:"chk["+n+"][4]",id:"chk["+n+"][4]",value:1===parseInt(a[4])?1:0,checked:1===parseInt(a[4]),onChange:e.updateDaysOnSchedule,"data-id":t.codigoHorario,"data-index":n})),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",name:"chk["+n+"][5]",id:"chk["+n+"][5]",value:1===parseInt(a[5])?1:0,checked:1===parseInt(a[5]),onChange:e.updateDaysOnSchedule,"data-id":t.codigoHorario,"data-index":n})),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox",name:"chk["+n+"][6]",id:"chk["+n+"][6]",value:1===parseInt(a[6])?1:0,checked:1===parseInt(a[6]),onChange:e.updateDaysOnSchedule,"data-id":t.codigoHorario,"data-index":n})))}))))),l.a.createElement("div",{id:"mdlAddSchedule",className:"overbox"},l.a.createElement("div",{className:"content"},l.a.createElement("button",{onClick:this.hideModalAddSchedule},"Cerrar \xd7"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",null)," ",l.a.createElement("br",null),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"\xc1rea urbana atendida :"),l.a.createElement("input",{type:"text",name:"zona_",id:"zona_"}),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Hora Inicio de la Atenci\xf3n :"),l.a.createElement("input",{type:"time",name:"hIn_",id:"hIn_"}),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Hora Final de la Atenci\xf3n :"),l.a.createElement("input",{type:"time",name:"hOut_",id:"hOut_"}),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement("input",{type:"button",value:"Agregar/Registrar +",onClick:this.addScheduleItem})))),l.a.createElement("div",{id:"mdlEditTimeSchedule",className:"overbox"},l.a.createElement("div",{className:"content"},l.a.createElement("button",{onClick:this.hideModalEditTimeSchedule},"Cerrar \xd7"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",null)," ",l.a.createElement("br",null),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Hora Inicio de la Atenci\xf3n :"),l.a.createElement("input",{type:"time",name:"hInEdt_",id:"hInEdt_"}),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Hora Final de la Atenci\xf3n :"),l.a.createElement("input",{type:"time",name:"hOutEdt_",id:"hOutEdt_"}),l.a.createElement("br",null),l.a.createElement("input",{type:"hidden",name:"codigoHorario_",id:"codigoHorario_"})),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement("input",{type:"button",value:"Modificar/Actualizar \u2192",onClick:this.updateTimeSchedule})))),l.a.createElement("div",{id:"mdlEditZoneSchedule",className:"overbox"},l.a.createElement("div",{className:"content"},l.a.createElement("button",{onClick:this.hideModalEditZoneSchedule},"Cerrar \xd7"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",null)," ",l.a.createElement("br",null),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"\xc1rea urbana atendida :"),l.a.createElement("input",{type:"text",name:"nameZone_",id:"nameZone_"}),l.a.createElement("br",null),l.a.createElement("input",{type:"hidden",name:"codigoHorarioEdt2_",id:"codigoHorarioEdt2_"})),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement("input",{type:"button",value:"Modificar/Actualizar \u2192",onClick:this.updateNameZoneSchedule})))),l.a.createElement(D,null))):(L=this.state.ClientsList.map((function(e){return l.a.createElement("option",{value:e.codigoEntidad,key:e.codigoEntidad},e.denominacionEntidad)})),l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(B,{text:"Horarios"}),l.a.createElement("br",null),l.a.createElement("div",{className:"z1"},1===parseInt(window.sessionStorage.getItem("role"))&&l.a.createElement("div",null,l.a.createElement("select",{onChange:this.changeClientId,value:this.state.CLIENT_ENTITY}," ",L))),l.a.createElement("main",null,l.a.createElement("h1",null,"No existen datos registrados")),l.a.createElement(D,null))):l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(B,{text:"Horarios"}),l.a.createElement("div",{className:"z1"},1===parseInt(window.sessionStorage.getItem("role"))&&l.a.createElement("div",null,l.a.createElement("select",{onChange:this.changeClientId,value:this.state.CLIENT_ENTITY}," ",L))),l.a.createElement("br",null),l.a.createElement("section",{style:{display:"block"}},l.a.createElement("select",{onChange:this.changeRoute,value:this.state.ROUTE_ENTITY},l.a.createElement("option",{value:"0"},"Seleccione una ruta"),this.state.RoutesByClient.map((function(e){return l.a.createElement("option",{key:e.codigoRuteo,value:e.codigoRuteo,"data-addr":e.denominacionRuteo},e.codigo)})))),l.a.createElement("main",null,l.a.createElement("h1",null,"No existen datos registrados")),l.a.createElement(D,null)):l.a.createElement("div",{className:"z"},l.a.createElement("h1",null,"Acceso denegado"))}}]),t}(l.a.Component);var M=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(d.a)(this,Object(s.a)(t).call(this,e))).checkIdClient=function(){0!==parseInt(window.sessionStorage.getItem("ClientCode"))?n.setState({CLIENT_ENTITY:parseInt(window.sessionStorage.getItem("ClientCode"))},(function(){n.populateOperatorsList()})):window.history.replaceState({},null,"/")},n.decreaseNumberOfPage=function(){n.setState({numberOfPage:parseInt(n.state.numberOfPage)>1?parseInt(n.state.numberOfPage)-1:1},(function(){n.populateOperatorsList()}))},n.increaseNumberOfPage=function(){n.setState({numberOfPage:parseInt(n.state.numberOfPage)<n.state.totalPages?parseInt(n.state.numberOfPage)+1:n.state.totalPages},(function(){n.populateOperatorsList()}))},n.changeNumberOfPage=function(e){var t=e.target.value;n.setState({numberOfPage:parseInt(t)>0&&parseInt(t)<=n.state.totalPages?t:1},(function(){n.populateOperatorsList()}))},n.getClassificationDocument=function(){new Promise((function(e,t){fetch(f+"/api/tipoDocumento/").then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){t(e)}))})).then((function(e){n.setState({ClassificationDocumentList:e})}))},n.getClientsList=function(){P().then((function(e){n.setState({ClientsList:e})}))},n.getTotalItems=function(){new Promise((function(e,t){fetch(f+"/api/personal/total").then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){t(e)}))})).then((function(e){if("total"in e){var t=parseInt(e.total);n.setState({totalItems:t,totalPages:parseInt(t/10)+(0!==parseInt(t%10)?1:0)})}}))},n.setEnabledStatus=function(e){var t,a={cliente:parseInt(window.sessionStorage.getItem("idClient")),firma:window.sessionStorage.getItem("eSignSession"),codigo:parseInt(e.target.dataset.id),estado:1===parseInt(e.target.value)?0:1};(t=a,new Promise((function(e,n){fetch(f+"/api/personal/disponibilidad/",{method:"PATCH",body:JSON.stringify(t),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e})).then((function(t){e(t)})).catch((function(e){n(e)}))}))).then((function(e){n.populateOperatorsList()}))},n.setClientID=function(e){n.setState({CLIENT_ENTITY:e.target.value},(function(){n.populateOperatorsList()}))},n.showModalToAddOperator=function(){document.getElementById("modalToAppendOperator").style.display="block",document.getElementById("darkBackground").style.display="block",document.getElementById("nombre_").value="",document.getElementById("apPaterno_").value="",document.getElementById("apMaterno_").value="",document.getElementById("nombre_").focus()},n.hideModalToAddOperator=function(){document.getElementById("modalToAppendOperator").style.display="none",document.getElementById("darkBackground").style.display="none"},n.appendOperator=function(){n.hideModalToAddOperator();var e,t=document.getElementById("tipoDoc_"),a={cliente:parseInt(n.state.CLIENT_ENTITY),tipo:t.options[t.selectedIndex].value,documento:document.getElementById("documento_").value,nombre:document.getElementById("nombre_").value,paterno:document.getElementById("apPaterno_").value,materno:document.getElementById("apMaterno_").value,firma:window.sessionStorage.getItem("eSignSession")};(e=a,new Promise((function(t,n){fetch(f+"/api/personal/",{method:"POST",body:JSON.stringify(e),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e})).then((function(e){t(e)})).catch((function(e){n(e)}))}))).then((function(e){n.populateOperatorsList()}))},n.showModalEditDocument=function(e){var t=e.target.dataset.id,n=e.target.dataset.doc;document.getElementById("modalToEditOperatorDocument").style.display="block",document.getElementById("darkBackground").style.display="block";for(var a=document.getElementById("tipoDocEdt_"),l=0;l<a.length;l++)a.options[l].value===n&&(a.options[l].selected=!0);document.getElementById("codigoEdtDoc_").value=t,document.getElementById("numeroDocumentoEdt_").value=e.target.innerText,document.getElementById("numeroDocumentoEdt_").focus()},n.hideModalToEditOperatorDocument=function(){document.getElementById("modalToEditOperatorDocument").style.display="none",document.getElementById("darkBackground").style.display="none"},n.updateDocumentOperator=function(){n.hideModalToEditOperatorDocument();var e,t=document.getElementById("tipoDocEdt_"),a={cliente:parseInt(n.state.CLIENT_ENTITY),firma:window.sessionStorage.getItem("eSignSession"),codigo:document.getElementById("codigoEdtDoc_").value,tipo:t.options[t.selectedIndex].value,documento:document.getElementById("numeroDocumentoEdt_").value};(e=a,new Promise((function(t,n){fetch(f+"/api/personal/identificacion/",{method:"PATCH",body:JSON.stringify(e),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e})).then((function(e){t(e)})).catch((function(e){n(e)}))}))).then((function(e){n.populateOperatorsList()}))},n.showModalEditLabels=function(e){document.getElementById("modalToEditOperator").style.display="block",document.getElementById("darkBackground").style.display="block",document.getElementById("codigoEdt_").value=e.target.dataset.id,document.getElementById("nombreEdt_").value=e.target.dataset.nombre,document.getElementById("apPaternoEdt_").value=e.target.dataset.paterno,document.getElementById("apMaternoEdt_").value=e.target.dataset.materno,document.getElementById("nombreEdt_").focus()},n.hideModalToEditLabels=function(){document.getElementById("modalToEditOperator").style.display="none",document.getElementById("darkBackground").style.display="none"},n.updateLabelOperator=function(){n.hideModalToEditLabels();var e,t={cliente:parseInt(n.state.CLIENT_ENTITY),codigo:document.getElementById("codigoEdt_").value,nombre:document.getElementById("nombreEdt_").value,paterno:document.getElementById("apPaternoEdt_").value,materno:document.getElementById("apMaternoEdt_").value,firma:window.sessionStorage.getItem("eSignSession")};(e=t,new Promise((function(t,n){fetch(f+"/api/personal/denominacion/",{method:"PATCH",body:JSON.stringify(e),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e})).then((function(e){t(e)})).catch((function(e){n(e)}))}))).then((function(e){n.populateOperatorsList()}))},n.getLabelDocumentByCode=function(e){},n.populateOperatorsList=function(){var e,t,a,l=10*(parseInt(n.state.numberOfPage)-1);(e=l,t=10,a=n.state.CLIENT_ENTITY,new Promise((function(n,l){fetch(f+"/api/personal/paginado/"+e+"/"+t+"/"+a).then((function(e){return e.json()})).then((function(e){n(e)})).catch((function(e){l(e)}))}))).then((function(e){n.setState({PersonalByClientList:e})}))},n.state={PersonalByClientList:[],ClientsList:[],ClassificationDocumentList:[],totalItems:1,numberOfPage:1,totalPages:0,CLIENT_ENTITY:0,userAuthenticated:!1},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;y()?this.setState({userAuthenticated:!0},(function(){e.checkIdClient(),e.getClientsList(),e.getClassificationDocument(),e.getTotalItems()})):window.location.href="/"}},{key:"render",value:function(){var e=this;if(this.state.userAuthenticated){var t=this.state.ClientsList.map((function(e){return l.a.createElement("option",{value:e.codigoEntidad,key:e.codigoEntidad},e.denominacionEntidad)})),n=this.state.ClassificationDocumentList.map((function(e){return l.a.createElement("option",{value:e.id,key:e.id},e.denominacion)}));return this.state.PersonalByClientList.length>0?l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(B,{text:"Personal/Operadores - Choferes",title:"Personal a cargo del Recojo de Desechos s\xf3lidos"}),l.a.createElement("div",{className:"z1",style:{padding:"2% 5%",width:"90%"}},1===parseInt(window.sessionStorage.getItem("role"))&&l.a.createElement("div",null,l.a.createElement("select",{onChange:this.setClientID,value:this.state.CLIENT_ENTITY,style:{width:"100%",boxSizing:"border-box"}},t))),l.a.createElement("nav",null,l.a.createElement("input",{type:"button",name:"prv_",value:"\u2190",onClick:this.decreaseNumberOfPage,title:"P\xe1gina anterior"}),l.a.createElement("input",{type:"number",name:"pagina_",id:"pagina_",min:"1",pattern:"[0-9]*",title:"N\xfamero de P\xe1gina",onChange:this.changeNumberOfPage,style:{textAlign:"center",border:"none",width:"4em"},value:this.state.numberOfPage}),"\xa0\xa0de\xa0\xa0",l.a.createElement("input",{type:"text",name:"totalEntidad_",id:"totalEntidad_",size:"2",style:{border:"none"},title:"Total de p\xe1ginas a mostrar",value:this.state.totalPages,readOnly:!0}),l.a.createElement("input",{type:"button",name:"nxt_",value:"\u2192",onClick:this.increaseNumberOfPage,title:"P\xe1gina siguiente"}),"\xa0\xa0\xa0",l.a.createElement("button",{onClick:this.showModalToAddOperator},"Nuevo Operador +")),l.a.createElement("br",null),l.a.createElement("main",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"25%"}},"\xa0Documento de Identidad\xa0"),l.a.createElement("th",{style:{width:"60%"}},"Apellidos - Nombres"),l.a.createElement("th",{title:"\xbfest\xe1 el operador habilitado?"},"\xa0"))),l.a.createElement("tbody",null,this.state.PersonalByClientList.map((function(t){return l.a.createElement("tr",{key:"cx_"+t.codigoPersona},l.a.createElement("td",null,"\xa0",l.a.createElement("span",{title:t.tipoDocumentoIdentificatorio},"\u25cb "),"\xa0",l.a.createElement("span",{onClick:e.showModalEditDocument,"data-id":t.codigoPersona,"data-doc":t.tipoDocumentoIdentificatorio},t.numeroDocumentoIdentificatorio)),l.a.createElement("td",null,l.a.createElement("span",{onClick:e.showModalEditLabels,"data-id":t.codigoPersona,"data-paterno":t.apellidoPaterno,"data-materno":t.apellidoMaterno,"data-nombre":t.nombre},t.apellidoPaterno.toUpperCase()+" "+t.apellidoMaterno.toUpperCase()+", "+t.nombre)),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox","data-id":t.codigoPersona,name:"chk_"+t.codigoPersona,id:"chk_"+t.codigoPersona,value:1===parseInt(t.habilitado)?1:0,checked:1===parseInt(t.habilitado),onChange:e.setEnabledStatus,title:"Habilitar/Deshabilitar al operador"})))}))))),l.a.createElement("div",{id:"modalToAppendOperator",className:"overbox"},l.a.createElement("div",{className:"content"},l.a.createElement("button",{onClick:this.hideModalToAddOperator},"Cerrar \xd7")," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Tipo de Documento/Documento de Identidad : "),l.a.createElement("select",{name:"tipoDoc_",id:"tipoDoc_",defaultValue:-1},l.a.createElement("option",{value:"-1"}," Seleccione una opci\xf3n"),n),"\xa0\xa0",l.a.createElement("input",{style:{border:"1px solid slategray",borderRadius:"4px",padding:"6px"},type:"text",name:"documento_",id:"documento_",required:!0}),l.a.createElement("br",null)),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Nombre : "),l.a.createElement("input",{type:"text",name:"nombre_",id:"nombre_",required:!0}),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Apellido Paterno : "),l.a.createElement("input",{type:"text",name:"apPaterno_",id:"apPaterno_",required:!0}),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Apellido Materno : "),l.a.createElement("input",{type:"text",name:"apMaterno_",id:"apMaterno_"}),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement("input",{type:"button",value:"Agregar/Registrar +",onClick:this.appendOperator})))),l.a.createElement("div",{id:"modalToEditOperator",className:"overbox"},l.a.createElement("div",{className:"content"},l.a.createElement("button",{onClick:this.hideModalToEditLabels},"Cerrar \xd7")," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Nombre : "),l.a.createElement("input",{type:"text",name:"nombreEdt_",id:"nombreEdt_",required:!0}),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Apellido Paterno : "),l.a.createElement("input",{type:"text",name:"apPaternoEdt_",id:"apPaternoEdt_",required:!0}),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Apellido Materno : "),l.a.createElement("input",{type:"text",name:"apMaternoEdt_",id:"apMaternoEdt_"}),l.a.createElement("br",null),l.a.createElement("input",{type:"hidden",name:"codigoEdt_",id:"codigoEdt_"}),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement("input",{type:"button",value:"Editar/Actualizar \u2192",onClick:this.updateLabelOperator})))),l.a.createElement("div",{id:"modalToEditOperatorDocument",className:"overbox"},l.a.createElement("div",{className:"content"},l.a.createElement("button",{onClick:this.hideModalToEditOperatorDocument},"Cerrar \xd7")," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"N\xfamero de Identidad : "),l.a.createElement("select",{name:"tipoDocEdt_",id:"tipoDocEdt_",defaultValue:-1},l.a.createElement("option",{value:"-1"}," Seleccione una opci\xf3n"),n),"\xa0\xa0",l.a.createElement("input",{type:"text",name:"numeroDocumentoEdt_",id:"numeroDocumentoEdt_",required:!0}),l.a.createElement("br",null),l.a.createElement("input",{type:"hidden",name:"codigoEdtDoc_",id:"codigoEdtDoc_"}),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement("input",{type:"button",value:"Agregar/Registrar +",onClick:this.updateDocumentOperator})))),l.a.createElement("div",{id:"darkBackground",className:"fadebox"},"\xa0")):l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(B,{text:"Personal/Operadores - Choferes",title:"Personal a cargo del Recojo de Desechos s\xf3lidos"}),l.a.createElement("div",{className:"z1",style:{padding:"2% 5%",width:"90%"}},1===parseInt(window.sessionStorage.getItem("role"))&&l.a.createElement("div",null,l.a.createElement("select",{onChange:this.setClientID,value:this.state.CLIENT_ENTITY,style:{width:"100%",boxSizing:"border-box"}},t))),l.a.createElement("main",null,l.a.createElement("div",{className:"z1"},l.a.createElement("h1",null,"No existen datos registrados"))))}return l.a.createElement("div",{className:"z"},l.a.createElement("h1",null,"Acceso denegado"))}}]),t}(l.a.Component);var z=[],H=function(e){var t=e.closeFunction,n=e.performrAction;return l.a.createElement("div",{id:"modalAddVehicle",className:"overbox"},l.a.createElement("div",{className:"content"},l.a.createElement("button",{onClick:t},"Cerrar \xd7"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",null)," ",l.a.createElement("br",null),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"C\xf3digo/codificaci\xf3n de Ruta"),l.a.createElement("input",{type:"text",name:"plaque_",id:"plaque_"}),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement("input",{type:"button",value:"Agregar/Registrar +",onClick:n}))))},Y=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(d.a)(this,Object(s.a)(t).call(this,e))).checkIdClient=function(){0!==parseInt(window.sessionStorage.getItem("ClientCode"))?n.setState({CLIENT_ENTITY:parseInt(window.sessionStorage.getItem("ClientCode"))},(function(){n.populateListOfVehicles()})):window.history.replaceState({},null,"/")},n.decreaseNumberOfPage=function(){n.setState({numberOfPage:parseInt(n.state.numberOfPage)>1?parseInt(n.state.numberOfPage)-1:1},(function(){n.populateListOfVehicles()}))},n.increaseNumberOfPage=function(){n.setState({numberOfPage:parseInt(n.state.numberOfPage)<n.state.totalPages?parseInt(n.state.numberOfPage)+1:n.state.totalPages},(function(){n.populateListOfVehicles()}))},n.changeNumberOfPage=function(e){var t=e.target.value;n.setState({numberOfPage:parseInt(t)>0&&parseInt(t)<=n.state.totalPages?t:1},(function(){n.populateListOfVehicles()}))},n.getClientsList=function(){P().then((function(e){n.setState({ClientsList:e})}))},n.getTotalItems=function(){new Promise((function(e,t){fetch(f+"/api/unidadColectora/total").then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){t(e)}))})).then((function(e){if("total"in e){var t=parseInt(e.total);n.setState({totalItems:t,totalPages:parseInt(t/10)+(0!==parseInt(t%10)?1:0)})}}))},n.setVehiclesByClient=function(e){n.setState({CLIENT_ENTITY:e.target.value},(function(){n.populateListOfVehicles()}))},n.showModalToAddVehicle=function(){document.getElementById("modalAddVehicle").style.display="block",document.getElementById("darkBackground").style.display="block"},n.hideModalToAddVehicle=function(){console.warn("Hello"),document.getElementById("modalAddVehicle").style.display="none",document.getElementById("darkBackground").style.display="none",console.warn("ciao")},n.addNewVehicle=function(){n.hideModalToAddVehicle();var e,t={cliente:parseInt(n.state.CLIENT_ENTITY),firma:window.sessionStorage.getItem("eSignSession"),placa:document.getElementById("plaque_").value};(e=t,new Promise((function(t,n){fetch(f+"/api/unidadColectora/",{method:"POST",body:JSON.stringify(e),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e})).then((function(e){t(e)})).catch((function(e){n(e)}))}))).then((function(e){n.populateListOfVehicles()}))},n.showModalToEditVehicle=function(e){document.getElementById("modalEditVehicle").style.display="block",document.getElementById("darkBackground").style.display="block",document.getElementById("codeVehicleEdt_").value=e.target.dataset.id,document.getElementById("plaqueEdt_").value=e.target.innerText,document.getElementById("plaqueEdt_").focus()},n.hideModalToEditVehicle=function(){document.getElementById("modalEditVehicle").style.display="none",document.getElementById("darkBackground").style.display="none"},n.updateLicenseVehicle=function(){n.hideModalToEditVehicle();var e,t={cliente:parseInt(n.state.CLIENT_ENTITY),firma:window.sessionStorage.getItem("eSignSession"),codigo:document.getElementById("codeVehicleEdt_").value,denominacion:document.getElementById("plaqueEdt_").value};(e=t,new Promise((function(t,n){fetch(f+"/api/unidadColectora/denominacion/placa",{method:"PATCH",body:JSON.stringify(e),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e})).then((function(e){t(e)})).catch((function(e){n(e)}))}))).then((function(e){n.populateListOfVehicles()}))},n.setEnabledStatus=function(e){var t,a={cliente:parseInt(n.state.CLIENT_ENTITY),firma:window.sessionStorage.getItem("eSignSession"),codigo:parseInt(e.target.dataset.id),estado:1===parseInt(e.target.value)?0:1};(t=a,new Promise((function(e,n){fetch(f+"/api/unidadColectora/disponibilidad/",{method:"PATCH",body:JSON.stringify(t),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e})).then((function(t){e(t)})).catch((function(e){n(e)}))}))).then((function(e){n.populateListOfVehicles()}))},n.populateListOfVehicles=function(){var e,t,a,l=10*(parseInt(n.state.numberOfPage)-1);(e=l,t=10,a=n.state.CLIENT_ENTITY,new Promise((function(n,l){fetch(f+"/api/unidadColectora/paginado/"+e+"/"+t+"/"+a).then((function(e){return e.json()})).then((function(e){n(e)})).catch((function(e){l(e)}))}))).then((function(e){n.setState({VehiclesByClient:e})}))},n.state={VehiclesByClient:[],ClientsList:[],totalItems:1,numberOfPage:1,totalPages:0,CLIENT_ENTITY:0,userAuthenticated:!1},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;y()?this.setState({userAuthenticated:!0},(function(){e.checkIdClient(),e.getClientsList(),e.getTotalItems()})):window.location.href="/"}},{key:"render",value:function(){var e=this;return this.state.userAuthenticated?this.state.VehiclesByClient.length>0?(z=this.state.ClientsList.map((function(e){return l.a.createElement("option",{value:e.codigoEntidad,key:e.codigoEntidad},e.denominacionEntidad)})),l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(B,{text:"Unidades de Recojo/Veh\xedculos"}),l.a.createElement("div",{className:"z1",style:{padding:"2% 4%",width:"90%"}},1===parseInt(window.sessionStorage.getItem("role"))&&l.a.createElement("div",null,l.a.createElement("select",{onChange:this.setVehiclesByClient,value:this.state.CLIENT_ENTITY,style:{width:"100%",boxSizing:"border-box"}},z))),l.a.createElement("nav",null,l.a.createElement("input",{type:"button",name:"prv_",value:"\u2190",onClick:this.decreaseNumberOfPage,title:"P\xe1gina anterior"}),l.a.createElement("input",{type:"number",name:"pagina_",id:"pagina_",min:"1",pattern:"[0-9]*",title:"N\xfamero de P\xe1gina",onChange:this.changeNumberOfPage,style:{textAlign:"center",border:"none",width:"4em"},value:this.state.numberOfPage}),"\xa0\xa0de\xa0\xa0",l.a.createElement("input",{type:"text",name:"totalEntidad_",id:"totalEntidad_",size:"2",style:{border:"none"},title:"Total de p\xe1ginas a mostrar",value:this.state.totalPages,readOnly:!0}),l.a.createElement("input",{type:"button",name:"nxt_",value:"\u2192",onClick:this.increaseNumberOfPage,title:"P\xe1gina siguiente"}),"\xa0\xa0\xa0",l.a.createElement("button",{onClick:this.showModalToAddVehicle},"Veh\xedculo +")),l.a.createElement("main",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Placa \xdanica Nacional de Rodaje "),l.a.createElement("th",null,"\xa0"))),l.a.createElement("tbody",null,this.state.VehiclesByClient.map((function(t,n){return l.a.createElement("tr",{key:n},l.a.createElement("td",null,l.a.createElement("span",{onClick:e.showModalToEditVehicle,"data-id":t.codigoUnidadRecolectora},t.identificadorUnidadRecolectora)),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox","data-id":t.codigoUnidadRecolectora,name:"chk_"+t.codigoUnidadRecolectora,id:"chk_"+t.codigoUnidadRecolectora,value:1===parseInt(t.habilitado)?1:0,checked:1===parseInt(t.habilitado),onChange:e.setEnabledStatus,title:"Habilitar/Deshabilitar al Cliente"})))}))))),l.a.createElement(H,{closeFunction:this.hideModalToAddVehicle,performrAction:this.addNewVehicle}),l.a.createElement("div",{id:"modalEditVehicle",className:"overbox"},l.a.createElement("div",{className:"content"},l.a.createElement("button",{onClick:this.hideModalToEditVehicle},"Cerrar \xd7"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",null)," ",l.a.createElement("br",null),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"C\xf3digo/codificaci\xf3n de Ruta"),l.a.createElement("input",{type:"text",name:"plaqueEdt_",id:"plaqueEdt_"}),l.a.createElement("br",null),l.a.createElement("input",{type:"hidden",name:"codeVehicleEdt_",id:"codeVehicleEdt_"})),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement("input",{type:"button",value:"Modificar/Actualizar \u2192",onClick:this.updateLicenseVehicle})))),l.a.createElement(D,null))):(z=this.state.ClientsList.map((function(e){return l.a.createElement("option",{value:e.codigoEntidad,key:e.codigoEntidad},e.denominacionEntidad)})),l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(B,{text:"Unidades de Recojo/Veh\xedculos"}),l.a.createElement("div",{className:"z1",style:{padding:"2% 5%",width:"90%"}},1===parseInt(window.sessionStorage.getItem("role"))&&l.a.createElement("div",null,l.a.createElement("select",{onChange:this.setVehiclesByClient,value:this.state.CLIENT_ENTITY,style:{width:"100%",boxSizing:"border-box"}},z))),l.a.createElement("main",null,l.a.createElement("div",{className:"z1"},l.a.createElement("h1",null,"No existen datos registrados"))),l.a.createElement("div",{className:"z1"},l.a.createElement("button",{onClick:this.showModalToAddVehicle},"Veh\xedculo +")),l.a.createElement(H,{closeFunction:this.hideModalToAddVehicle}),l.a.createElement(D,null))):l.a.createElement("div",{className:"z"},l.a.createElement("h1",null,"Acceso denegado"))}}]),t}(l.a.Component);var V=[],U=function(e){var t=e.closeFunction,n=e.performrAction;return l.a.createElement("div",{id:"modalAddDevice",className:"overbox"},l.a.createElement("div",{className:"content"},l.a.createElement("button",{onClick:t},"Cerrar \xd7"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",null)," ",l.a.createElement("br",null),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Denominaci\xf3n del dispositivo"),l.a.createElement("input",{type:"text",name:"nombreDispositivo_",id:"nombreDispositivo_"}),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"N\xfamero de Serie (Hardware/IMEI) "),l.a.createElement("input",{type:"text",name:"serieDispositivo_",id:"serieDispositivo_"}),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement("input",{type:"button",value:"Agregar/Registrar +",onClick:n}))))},G=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(d.a)(this,Object(s.a)(t).call(this,e))).decreaseNumberOfPage=function(){n.setState({numberOfPage:parseInt(n.state.numberOfPage)>1?parseInt(n.state.numberOfPage)-1:1},(function(){n.populateListOfDevices()}))},n.increaseNumberOfPage=function(){n.setState({numberOfPage:parseInt(n.state.numberOfPage)<n.state.totalPages?parseInt(n.state.numberOfPage)+1:n.state.totalPages},(function(){n.populateListOfDevices()}))},n.changeNumberOfPage=function(e){var t=e.target.value;n.setState({numberOfPage:parseInt(t)>0&&parseInt(t)<=n.state.totalPages?t:1},(function(){n.populateListOfDevices()}))},n.checkIdClient=function(){0!==parseInt(window.sessionStorage.getItem("ClientCode"))?n.setState({CLIENT_ENTITY:parseInt(window.sessionStorage.getItem("ClientCode"))},(function(){n.populateListOfDevices()})):window.history.replaceState({},null,"/")},n.getClientsList=function(){P().then((function(e){n.setState({ClientsList:e})}))},n.getTotalItems=function(){new Promise((function(e,t){fetch(f+"/api/dispositivoGPS/total").then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){t(e)}))})).then((function(e){if("total"in e){var t=parseInt(e.total);n.setState({totalItems:t,totalPages:parseInt(t/10)+(0!==parseInt(t%10)?1:0)})}}))},n.setDevicesByClient=function(e){n.setState({CLIENT_ENTITY:e.target.value},(function(){n.populateListOfDevices()}))},n.showModalToAddDevice=function(){document.getElementById("modalAddDevice").style.display="block",document.getElementById("darkBackground").style.display="block",document.getElementById("nombreDispositivo_").focus()},n.hideModalToAddDevice=function(){document.getElementById("modalAddDevice").style.display="none",document.getElementById("darkBackground").style.display="none"},n.appendDevice=function(){n.hideModalToAddDevice();var e,t={cliente:parseInt(n.state.CLIENT_ENTITY),firma:window.sessionStorage.getItem("eSignSession"),serial:document.getElementById("serieDispositivo_").value,denominacion:document.getElementById("nombreDispositivo_").value};(e=t,new Promise((function(t,n){fetch(f+"/api/dispositivoGPS/",{method:"POST",body:JSON.stringify(e),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e})).then((function(e){t(e)})).catch((function(e){n(e)}))}))).then((function(e){n.populateListOfDevices()}))},n.showModalToEditDevice=function(e){var t=e.target.dataset.id,n=e.target.dataset.serial,a=e.target.dataset.named;document.getElementById("codigoDispositivoEdt_").value=t,document.getElementById("nombreDispositivoEdt_").value=a,document.getElementById("serieDispositivoEdt_").value=n,document.getElementById("modalEditDevice").style.display="block",document.getElementById("darkBackground").style.display="block",document.getElementById("nombreDispositivoEdt_").focus()},n.hideModalToEditDevice=function(){document.getElementById("modalEditDevice").style.display="none",document.getElementById("darkBackground").style.display="none"},n.updateDataDevice=function(){n.hideModalToEditDevice();var e,t={cliente:parseInt(n.state.CLIENT_ENTITY),firma:window.sessionStorage.getItem("eSignSession"),codigo:document.getElementById("codigoDispositivoEdt_").value,serie:document.getElementById("serieDispositivoEdt_").value,denominacion:document.getElementById("nombreDispositivoEdt_").value};(e=t,new Promise((function(t,n){fetch(f+"/api/dispositivoGPS/denominacion/referencias",{method:"PATCH",body:JSON.stringify(e),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e})).then((function(e){t(e)})).catch((function(e){n(e)}))}))).then((function(e){n.populateListOfDevices()}))},n.setEnabledStatus=function(e){var t,a={cliente:parseInt(n.state.CLIENT_ENTITY),firma:window.sessionStorage.getItem("eSignSession"),codigo:parseInt(e.target.dataset.id),estado:1===parseInt(e.target.value)?0:1};(t=a,new Promise((function(e,n){fetch(f+"/api/dispositivoGPS/disponibilidad/",{method:"PATCH",body:JSON.stringify(t),headers:new Headers({Accept:"application/json","Content-type":"application/json"})}).then((function(e){return e})).then((function(t){e(t)})).catch((function(e){n(e)}))}))).then((function(e){n.populateListOfDevices()}))},n.populateListOfDevices=function(){var e,t,a,l=10*(parseInt(n.state.numberOfPage)-1);(e=l,t=10,a=n.state.CLIENT_ENTITY,new Promise((function(n,l){fetch(f+"/api/dispositivoGPS/paginado/"+e+"/"+t+"/"+a).then((function(e){return e.json()})).then((function(e){n(e)})).catch((function(e){l(e)}))}))).then((function(e){n.setState({DevicesByPage:e})}))},n.state={DevicesByPage:[],ClientsList:[],totalItems:1,numberOfPage:1,totalPages:0,CLIENT_ENTITY:0,userAuthenticated:!1},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;y()?this.setState({userAuthenticated:!0},(function(){e.checkIdClient(),e.getClientsList(),e.getTotalItems()})):window.location.href="/"}},{key:"render",value:function(){var e=this;return this.state.userAuthenticated?this.state.DevicesByPage.length>0?l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(B,{text:"Dispositivos",title:"Dispositivos capturadores de geolocalizaci\xf3n/GPS"}),l.a.createElement("div",{className:"z1",style:{padding:"2% 4%",width:"90%"}},1===parseInt(window.sessionStorage.getItem("role"))&&l.a.createElement("div",null,l.a.createElement("select",{onChange:this.setDevicesByClient,value:this.state.CLIENT_ENTITY,style:{width:"100%",boxSizing:"border-box"}},V))),l.a.createElement("nav",null,l.a.createElement("input",{type:"button",name:"prv_",value:"\u2190",onClick:this.decreaseNumberOfPage,title:"P\xe1gina anterior"}),l.a.createElement("input",{type:"number",name:"pagina_",id:"pagina_",min:"1",pattern:"[0-9]*",title:"N\xfamero de P\xe1gina",onChange:this.changeNumberOfPage,style:{textAlign:"center",border:"none",width:"4em"},value:this.state.numberOfPage}),"\xa0\xa0de\xa0\xa0",l.a.createElement("input",{type:"text",name:"totalEntidad_",id:"totalEntidad_",size:"2",style:{border:"none"},title:"Total de p\xe1ginas a mostrar",value:this.state.totalPages,readOnly:!0}),l.a.createElement("input",{type:"button",name:"nxt_",value:"\u2192",onClick:this.increaseNumberOfPage,title:"P\xe1gina siguiente"}),"\xa0\xa0\xa0",l.a.createElement("button",{onClick:this.showModalToAddDevice},"Dispositivo +")),l.a.createElement("main",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\xa0Identificador/Denominaci\xf3n"),l.a.createElement("th",null,"\xa0N\xfamero de Serie/IMEI"),l.a.createElement("th",null,"\xa0"))),l.a.createElement("tbody",null,this.state.DevicesByPage.map((function(t,n){return l.a.createElement("tr",{key:n},l.a.createElement("td",null,l.a.createElement("span",{"data-id":t.codigoDispositivo,"data-serial":t.numeroSerie,"data-named":t.denominacionDispositivo,onClick:e.showModalToEditDevice},t.denominacionDispositivo)),l.a.createElement("td",null,l.a.createElement("span",{onClick:e.showModalToEditDevice,"data-id":t.codigoDispositivo,"data-serial":t.numeroSerie,"data-named":t.denominacionDispositivo},t.numeroSerie)),l.a.createElement("td",null,l.a.createElement("input",{type:"checkbox","data-id":t.codigoDispositivo,name:"chk_"+t.codigoDispositivo,id:"chk_"+t.codigoDispositivo,value:1===parseInt(t.habilitado)?1:0,checked:1===parseInt(t.habilitado),onChange:e.setEnabledStatus,title:"Habilitar/Deshabilitar al Cliente"})))}))))),l.a.createElement(U,{closeFunction:this.hideModalToAddDevice,performrAction:this.appendDevice}),l.a.createElement("div",{id:"modalEditDevice",className:"overbox"},l.a.createElement("div",{className:"content"},l.a.createElement("button",{onClick:this.hideModalToEditDevice},"Cerrar \xd7"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",null)," ",l.a.createElement("br",null),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Denominaci\xf3n del dispositivo"),l.a.createElement("input",{type:"text",name:"nombreDispositivoEdt_",id:"nombreDispositivoEdt_"})),l.a.createElement("br",null),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"N\xfamero de Serie (Hardware/IMEI) "),l.a.createElement("input",{type:"text",name:"serieDispositivoEdt_",id:"serieDispositivoEdt_"}),l.a.createElement("input",{type:"hidden",name:"codigoDispositivoEdt_",id:"codigoDispositivoEdt_"})),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("div",{style:{textAlign:"right"}},l.a.createElement("input",{type:"button",value:"Modificar/Actualizar \u2192",onClick:this.updateDataDevice})))),l.a.createElement(D,null)):(V=this.state.ClientsList.map((function(e){return l.a.createElement("option",{value:e.codigoEntidad,key:e.codigoEntidad},e.denominacionEntidad)})),l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(B,{text:"Dispositivos",title:"Dispositivos capturadores de geolocalizaci\xf3n/GPS"}),l.a.createElement("div",{className:"z1",style:{padding:"2% 5%",width:"90%"}},1===parseInt(window.sessionStorage.getItem("role"))&&l.a.createElement("div",null,l.a.createElement("select",{onChange:this.setDevicesByClient,value:this.state.CLIENT_ENTITY,style:{width:"100%",boxSizing:"border-box"}},V))),l.a.createElement("main",null,l.a.createElement("div",{className:"z1"},l.a.createElement("h1",null,"No existen datos registrados"))),l.a.createElement("div",{className:"z1"},l.a.createElement("button",{onClick:this.showModalToAddDevice},"Dispositivo +")),l.a.createElement(U,{closeFunction:this.hideModalToAddDevice,performrAction:this.appendDevice}),l.a.createElement(D,null))):l.a.createElement("div",{className:"z"},l.a.createElement("h1",null,"Acceso denegado"))}}]),t}(l.a.Component);var q=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(d.a)(this,Object(s.a)(t).call(this,e))).showModalToAppendPoint=function(){document.getElementById("wnd2Add").style.display="block",document.getElementById("darkBackground").style.display="block"},n.hideModalToAppendPoint=function(){document.getElementById("wnd2Add").style.display="none",document.getElementById("darkBackground").style.display="none"},n.getListOfOperationsPoints=function(){var e;(e=n.state.CLIENT_ENTITY,new Promise((function(t,n){fetch(f+"/api/operacion/componente/puntos/"+e).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){n(e)}))}))).then((function(e){n.setState({typePoints:e})}))},n.getListOfOperationsLines=function(){var e;(e=n.state.CLIENT_ENTITY,new Promise((function(t,n){fetch(f+"/api/operacion/componente/trayectos/"+e).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){n(e)}))}))).then((function(e){n.setState({typeTrajectories:e})}))},n.populateListOfWayPoints=function(){var e;(e=n.state.SCHEDULE_ENTITY,new Promise((function(t,n){fetch(f+"/api/trayecto/"+e).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){n(e)}))}))).then((function(e){n.setState({WayPointsByScheduleItem:e})}))},n.state={WayPointsByScheduleItem:[],typePoints:[],typeTrajectories:[],CLIENT_ENTITY:1,SCHEDULE_ENTITY:n.props.match.params.id,userAuthenticated:!1},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;y()?this.setState({userAuthenticated:!0},(function(){e.getListOfOperationsPoints(),e.getListOfOperationsLines(),e.populateListOfWayPoints()})):window.location.href="/"}},{key:"render",value:function(){if(this.state.userAuthenticated){if(this.state.WayPointsByScheduleItem.length>0){var e=this.state.typePoints.map((function(e,t){return l.a.createElement("option",{value:e.codigo},e.denominacion)})),t=this.state.typeTrajectories.map((function(e,t){return l.a.createElement("option",{value:e.codigo},e.denominacion)}));return l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement(B,{text:"Puntos/Coordenadas de una Trayectoria"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("nav",null,l.a.createElement("button",{onClick:this.showModalToAppendPoint},"Editar Visualmente \u2660"),"\xa0\xa0",l.a.createElement("button",{onClick:this.showModalToAppendPoint},"Agregar Coordenada +"),"\xa0\xa0",l.a.createElement("button",{onClick:this.showModalToAppendPoint},"Desplegar Mapa \u2192")),l.a.createElement("main",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:5},l.a.createElement("select",{style:{marginTop:"8px",marginBottom:"8px"}},l.a.createElement("option",null,"Ruta : ")),"\xa0\xa0|\xa0\xa0",l.a.createElement("select",{style:{marginTop:"8px",marginBottom:"8px"}},l.a.createElement("option",null,"Zona/\xe1rea : ")))),l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"10%"}},"Orden"),l.a.createElement("th",null,"Latitud"),l.a.createElement("th",null,"Longitud"),l.a.createElement("th",null,"\xa0 "),l.a.createElement("th",null,"\xa0 "))),l.a.createElement("tbody",null,this.state.WayPointsByScheduleItem.map((function(n,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",{style:{width:"10%"}},n.orden),l.a.createElement("td",null,n.latitud),l.a.createElement("td",null,n.longitud),l.a.createElement("td",null,l.a.createElement("select",null,l.a.createElement("option",{value:"0"},"Seleccione tipo de Punto"),l.a.createElement("optgroup",{label:"Coordenada como Punto"},e),l.a.createElement("optgroup",{label:"Coordenada como Trayecto"},t))),l.a.createElement("td",null,l.a.createElement("select",null,l.a.createElement("option",{value:"0"},"Seleccione tipo de Operador/Trayecto"),l.a.createElement("option",{value:"1"},"Veh\xedculo"),l.a.createElement("option",{value:"2"},"Operario"))))}))))),l.a.createElement("div",{id:"wnd2Add",className:"overbox"},l.a.createElement("div",{className:"content"},l.a.createElement("button",{onClick:this.hideModalToAppendPoint},"Cerrar \xd7"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("label",{for:""},"Latitud"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"l1_",id:"l1_"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",{for:""},"Longitud"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"l2_",id:"l1_"}),l.a.createElement("br",null),l.a.createElement("br",null))),l.a.createElement("div",{id:"darkBackground",className:"fadebox"},"\xa0"))}return l.a.createElement("div",null,l.a.createElement(g,null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("main",null,"NO existen datos \xa0 ",l.a.createElement("button",{onClick:this.showModalToAddRoute},"Ruta +")),l.a.createElement("div",{id:"darkBackground",className:"fadebox"},"\xa0"))}return l.a.createElement("div",{className:"z"},l.a.createElement("h1",null,"Acceso denegado"))}}]),t}(l.a.Component),J=function(e){function t(){return Object(r.a)(this,t),Object(d.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(m.a,null,l.a.createElement(E.c,null,l.a.createElement(E.a,{exact:!0,path:"/",component:k}),l.a.createElement(E.a,{exact:!0,path:"/_",component:b}),l.a.createElement(E.a,{exact:!0,path:"/logout",component:_}),l.a.createElement(E.a,{exact:!0,path:"/password",component:N}),l.a.createElement(E.a,{exact:!0,path:"/client",component:x}),l.a.createElement(E.a,{exact:!0,path:"/route",component:R}),l.a.createElement(E.a,{exact:!0,path:"/personal",component:M}),l.a.createElement(E.a,{exact:!0,path:"/vehicle",component:Y}),l.a.createElement(E.a,{exact:!0,path:"/device",component:G}),l.a.createElement(E.a,{exact:!0,path:"/schedule",component:j}),l.a.createElement(E.a,{exact:!0,path:"/trajectory/manual/:id",component:q}),l.a.createElement(E.a,{exact:!0,path:"/*",component:p}))," ")," "))}}]),t}(l.a.Component);i.a.render(l.a.createElement(J,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.94229571.chunk.js.map